:root{
  --max:1100px;
  --gap:24px;
  --header-h:68px;  /* ← ヘッダー高さを固定 */
  /* 共通フォント（全ページでこれを使う） */
  --font-body: "NotoSansJP","Noto Sans JP","Hiragino Sans","Yu Gothic",
               system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
}

*{box-sizing:border-box}

/* 余白リセット＋ベースの文字サイズ */
html,body{margin:0}
html{font-size:16px}

/* タイポグラフィを統一（最重要：環境差を減らす） */
body{
  font-family: var(--font-body);
  line-height: 1.7;
  color:#111;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

a{color:inherit;text-decoration:none}
img{max-width:100%;display:block}

.container{max-width:var(--max);margin:auto;padding:0 16px}

/* ===== Header ===== */
.site-header{
  position:sticky; top:0; z-index:10;
  height: var(--header-h);
  background:#F2F2F2;
  border-bottom:1px solid #eee;
  padding: 0 16px;                 /* ← 縦の揺れを止める */
  display:flex; align-items:center; gap:16px;
}
.logo{font-weight:700;letter-spacing:.5px}
.global-nav{margin-left:auto;display:flex;gap:16px;align-items:center}
.nav-toggle{display:none;margin-left:auto;font-size:20px;background:transparent;border:0}
.btn-primary{display:inline-block;padding:10px 16px;border-radius:12px;background:#111;color:#F2F2F2}

/* ===== Hero ===== */
.hero{
  background:linear-gradient(180deg,#f6f7fb,transparent);
  padding: calc(var(--header-h) + 16px) 0 24px; /* ← ヘッダー分を常に確保 */
  margin-bottom:24px;
}
.hero-inner{max-width:var(--max);margin:auto;padding:0 16px}

/* ===== Layouts ===== */
.grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--gap);margin:40px auto}
.grid-3 article{padding:20px;border:1px solid #eee;border-radius:16px;background:#F2F2F2}

.cta{text-align:center;margin:64px auto}

.site-footer{
  margin-top:64px;border-top:1px solid #eee;padding:24px 16px;
  display:flex;justify-content:space-between;align-items:center
}

.table-like{display:grid;grid-template-columns:160px 1fr;gap:12px;align-items:center}

.contact-form{display:grid;gap:12px;max-width:640px}
.contact-form input,.contact-form textarea,.contact-form select{
  width:100%;padding:10px;border:1px solid #ddd;border-radius:10px
}

.news-list{list-style:none;padding:0;display:grid;gap:10px}

/* ===== Responsive ===== */
@media (max-width:840px){
  .grid-3{grid-template-columns:1fr}
  .global-nav{display:none}
  .nav-toggle{display:block}
}

/* ==== Global Background（安定版：オーバーレイ固定） ==== */
body{ background-color:#F2F2F2; } /* フォールバックのみ */
body::before{
  content:"";
  position:fixed; inset:0;
  z-index:-1;                /* すべての内容の背面へ */
  pointer-events:none;       /* クリック等に干渉しない */
  background-image:url("../images/haikei5.jpg");
  background-repeat:no-repeat;
  background-position:center center;
  background-size:cover;
  /* background-attachment は使わない */
}

/* === Self-host webfonts (Noto Sans JP) === */
@font-face{
  font-family:"NotoSansJP";
  src:url("../fonts/noto-sans-jp-v55-japanese-regular.woff2") format("woff2");
  font-weight:400; font-style:normal; font-display:swap;
}
@font-face{
  font-family:"NotoSansJP";
  src:url("../fonts/noto-sans-jp-v55-japanese-500.woff2") format("woff2");
  font-weight:500; font-style:normal; font-display:swap;
}
@font-face{
  font-family:"NotoSansJP";
  src:url("../fonts/noto-sans-jp-v55-japanese-700.woff2") format("woff2");
  font-weight:700; font-style:normal; font-display:swap;
}

/* ===== Headings: 行間と字間を固定（改行ズレ対策） ===== */
:root{
  --lh-heading: 1.25;     /* 見出し用の行高（OS差の影響を受けにくい値） */
  --track-heading: .02em;  /* 字間をわずかに広げて折返しを安定 */
}

h1, h2, h3{
  line-height: var(--lh-heading);
  letter-spacing: var(--track-heading);
  margin: 0 0 .6em;        /* ブラウザ差のデフォルトマージンも吸収 */
}

/* ヒーロー見出しだけ、さらにブレ対策（日本語の折返し安定化） */
.hero h1{
  line-height: var(--lh-heading);
  letter-spacing: var(--track-heading);
  word-break: normal;       /* 不要な分割を避ける */
  overflow-wrap: anywhere;  /* どうしても溢れる時だけ安全に折り返す */
}

/* 1) 画面枠：左右の余白と中央寄せ */
.container,
.hero .inner {
  max-width: 1200px;
  margin-inline: auto;
  padding-inline: clamp(16px, 4vw, 48px);
}

/* 2) ヒーロー：2カラム化＆はみ出し防止 */
.hero { overflow: visible; }  /* 画像欠け対策: hidden を使っていたら上書き */
.hero .inner {
  display: grid;
  grid-template-columns: 1.1fr 0.9fr; /* 左テキスト/右画像 */
  align-items: center;
  gap: clamp(16px, 4vw, 48px);
}
.hero .copy { max-width: 60ch; } /* 文字が左に寄りすぎるのを防ぐ */

/* 3) 画像：常に収まるサイズに */
.hero .image { justify-self: end; }
.hero .image img {
  display: block;
  width: min(42vw, 560px);  /* 大画面でデカくなりすぎない */
  height: auto;
  object-fit: contain;
}

/* iPad含む～1024px：1カラムにして中央寄せ */
@media (max-width: 1024px) {
  .hero .inner { grid-template-columns: 1fr; }
  .hero .image { order: 2; justify-self: center; }
  .hero .image img { width: min(80vw, 560px); }
}

/* パララックスや装飾で切れる場合の保険 */
@media (prefers-reduced-motion: reduce) {
  .hero--parallax, .has-decor { transform: none !important; }
}
